utility function for version one